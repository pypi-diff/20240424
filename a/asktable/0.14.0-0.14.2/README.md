# Comparing `tmp/asktable-0.14.0-py3-none-any.whl.zip` & `tmp/asktable-0.14.2-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,36 +1,36 @@
-Zip file size: 32325 bytes, number of entries: 34
+Zip file size: 32580 bytes, number of entries: 34
 -rw-r--r--  2.0 unx       86 b- defN 24-Apr-02 15:29 asktable/__init__.py
 -rw-r--r--  2.0 unx     2180 b- defN 24-Apr-01 06:16 asktable/api.py
 -rw-r--r--  2.0 unx     2138 b- defN 24-Apr-18 01:39 asktable/cli.py
--rw-r--r--  2.0 unx     1022 b- defN 24-Apr-22 12:27 asktable/client.py
+-rw-r--r--  2.0 unx     1022 b- defN 24-Apr-24 05:45 asktable/client.py
 -rw-r--r--  2.0 unx       41 b- defN 24-Apr-01 06:16 asktable/exceptions.py
 -rw-r--r--  2.0 unx      875 b- defN 24-Apr-01 06:44 asktable/log.py
 -rw-r--r--  2.0 unx     1492 b- defN 24-Apr-01 06:16 asktable/upload.py
--rw-r--r--  2.0 unx      248 b- defN 24-Apr-22 12:27 asktable/models/__init__.py
--rw-r--r--  2.0 unx     2993 b- defN 24-Apr-22 14:18 asktable/models/client_base.py
--rw-r--r--  2.0 unx     2571 b- defN 24-Apr-22 09:13 asktable/models/client_chat.py
--rw-r--r--  2.0 unx    10712 b- defN 24-Apr-22 14:13 asktable/models/client_ds.py
+-rw-r--r--  2.0 unx      248 b- defN 24-Apr-24 05:45 asktable/models/__init__.py
+-rw-r--r--  2.0 unx     2993 b- defN 24-Apr-24 05:45 asktable/models/client_base.py
+-rw-r--r--  2.0 unx     2571 b- defN 24-Apr-24 05:45 asktable/models/client_chat.py
+-rw-r--r--  2.0 unx    10712 b- defN 24-Apr-24 05:45 asktable/models/client_ds.py
 -rw-r--r--  2.0 unx     1270 b- defN 24-Apr-15 15:33 asktable/models/client_msg.py
 -rw-r--r--  2.0 unx      885 b- defN 24-Apr-06 09:09 asktable/models/client_run.py
--rw-r--r--  2.0 unx     1165 b- defN 24-Apr-23 02:33 asktable/models/client_securetunnel.py
+-rw-r--r--  2.0 unx     1397 b- defN 24-Apr-24 13:23 asktable/models/client_securetunnel.py
 -rw-r--r--  2.0 unx        0 b- defN 23-Dec-08 14:27 atcommon/__init__.py
 -rw-r--r--  2.0 unx     3296 b- defN 24-Apr-04 03:57 atcommon/tools.py
--rw-r--r--  2.0 unx       16 b- defN 24-Apr-23 03:35 atcommon/version.py
+-rw-r--r--  2.0 unx       16 b- defN 24-Apr-24 13:23 atcommon/version.py
 -rw-r--r--  2.0 unx        0 b- defN 24-Jan-31 13:33 atcommon/exceptions/__init__.py
 -rw-r--r--  2.0 unx     1402 b- defN 24-Apr-16 12:45 atcommon/exceptions/client.py
 -rw-r--r--  2.0 unx       95 b- defN 24-Apr-01 06:16 atcommon/exceptions/server.py
--rw-r--r--  2.0 unx     2599 b- defN 24-Apr-22 15:06 atcommon/exceptions/server_base.py
--rw-r--r--  2.0 unx      597 b- defN 24-Apr-16 12:45 atcommon/exceptions/server_plugins.py
+-rw-r--r--  2.0 unx     2837 b- defN 24-Apr-24 05:45 atcommon/exceptions/server_base.py
+-rw-r--r--  2.0 unx      764 b- defN 24-Apr-24 05:45 atcommon/exceptions/server_plugins.py
 -rw-r--r--  2.0 unx      526 b- defN 24-Apr-10 08:59 atcommon/models/__init__.py
 -rw-r--r--  2.0 unx      731 b- defN 24-Jan-20 03:26 atcommon/models/base.py
 -rw-r--r--  2.0 unx     4918 b- defN 24-Apr-17 07:47 atcommon/models/bi.py
 -rw-r--r--  2.0 unx     1069 b- defN 24-Apr-01 06:16 atcommon/models/chat.py
 -rw-r--r--  2.0 unx     1424 b- defN 24-Apr-03 14:46 atcommon/models/datasource.py
 -rw-r--r--  2.0 unx    27794 b- defN 24-Apr-06 01:31 atcommon/models/meta.py
--rw-r--r--  2.0 unx      631 b- defN 24-Apr-23 03:34 atcommon/models/securetunnel.py
--rw-r--r--  2.0 unx    11702 b- defN 24-Apr-23 05:05 asktable-0.14.0.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 24-Apr-23 05:05 asktable-0.14.0.dist-info/WHEEL
--rw-r--r--  2.0 unx       47 b- defN 24-Apr-23 05:05 asktable-0.14.0.dist-info/entry_points.txt
--rw-r--r--  2.0 unx       18 b- defN 24-Apr-23 05:05 asktable-0.14.0.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     2765 b- defN 24-Apr-23 05:05 asktable-0.14.0.dist-info/RECORD
-34 files, 87400 bytes uncompressed, 27909 bytes compressed:  68.1%
+-rw-r--r--  2.0 unx      819 b- defN 24-Apr-24 13:01 atcommon/models/securetunnel.py
+-rw-r--r--  2.0 unx    11702 b- defN 24-Apr-24 13:47 asktable-0.14.2.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 24-Apr-24 13:47 asktable-0.14.2.dist-info/WHEEL
+-rw-r--r--  2.0 unx       47 b- defN 24-Apr-24 13:47 asktable-0.14.2.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx       18 b- defN 24-Apr-24 13:47 asktable-0.14.2.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     2765 b- defN 24-Apr-24 13:47 asktable-0.14.2.dist-info/RECORD
+34 files, 88225 bytes uncompressed, 28164 bytes compressed:  68.1%
```

## zipnote {}

```diff
@@ -81,23 +81,23 @@
 
 Filename: atcommon/models/meta.py
 Comment: 
 
 Filename: atcommon/models/securetunnel.py
 Comment: 
 
-Filename: asktable-0.14.0.dist-info/METADATA
+Filename: asktable-0.14.2.dist-info/METADATA
 Comment: 
 
-Filename: asktable-0.14.0.dist-info/WHEEL
+Filename: asktable-0.14.2.dist-info/WHEEL
 Comment: 
 
-Filename: asktable-0.14.0.dist-info/entry_points.txt
+Filename: asktable-0.14.2.dist-info/entry_points.txt
 Comment: 
 
-Filename: asktable-0.14.0.dist-info/top_level.txt
+Filename: asktable-0.14.2.dist-info/top_level.txt
 Comment: 
 
-Filename: asktable-0.14.0.dist-info/RECORD
+Filename: asktable-0.14.2.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## asktable/models/client_securetunnel.py

```diff
@@ -12,21 +12,28 @@
         return self._get_all_resources_request()
 
 
 class SecureTunnel(SecureTunnelCore):
     def delete(self):
         return self.api.send(endpoint=f"/securetunnels/{self.id}", method="DELETE")
 
+    def update(self, name, client_info):
+        return self.api.send(
+            endpoint=f"/securetunnels/{self.id}",
+            method="POST",
+            data={"atst_name": name, "client_info": client_info}
+        )
+
     @property
     def links(self):
         return SecureTunnelLinkList(self.api, endpoint=f"/securetunnels/{self.id}/links")
 
 
 class SecureTunnelList(BaseResourceList):
-    __do_not_print_properties__ = ['tenant_id', 'created_at']
+    __do_not_print_properties__ = ['tenant_id', 'created_at', 'info']
 
     @convert_to_object(cls=SecureTunnel)
     def create(self):
         return self.api.send(endpoint=self.endpoint, method="POST")
 
     @convert_to_object(cls=SecureTunnel)
     def _get_all_resources(self):
```

## atcommon/version.py

```diff
@@ -1 +1 @@
-VERSION="0.14.0"
+VERSION="0.14.2"
```

## atcommon/exceptions/server_base.py

```diff
@@ -24,16 +24,22 @@
 
 # 3000 - 内部错误
 class InternalError(ServerBaseError):
     code = 3
     message = "Internal error"
 
 
+# 5000 - DataSource 自身内部错误
+class DataSourceError(ServerBaseError):
+    code = 5
+    message = "DataSource Error"
+
 ################################
 
+
 class Unauthorized(ManagementError):
     code = 1000
     message = "Unauthorized"
 
 
 class DataSourceExists(ManagementError):
     code = 1001
@@ -76,21 +82,26 @@
 
 
 class SecureTunnelNotFound(ManagementError):
     code = 1009
     message = "SecureTunnel not found"
 
 
-class SecureTunnelInUse(ManagementError):
+class SecureTunnelLinkNotFound(ManagementError):
     code = 1010
+    message = "SecureTunnel link not found"
+
+
+class SecureTunnelInUse(ManagementError):
+    code = 1011
     message = "SecureTunnel in use"
 
 
 class ATSTServerAPIError(ManagementError):
-    code = 1011
+    code = 1012
     message = "ATST Server API error"
 
 ################################
 
 
 class QAErrorNoMatchDataSource(QAError):
     code = 2002
```

## atcommon/exceptions/server_plugins.py

```diff
@@ -1,9 +1,9 @@
 from atcommon.exceptions.server import DataSourceConfigError
-from atcommon.exceptions.server import ServerBaseError
+from atcommon.exceptions.server import ServerBaseError, DataSourceError
 # Excel
 
 class TooLargeFile(DataSourceConfigError):
     code = 10051
     message = "文件大小超过限制"
 
 class TooManyColumns(DataSourceConfigError):
@@ -16,8 +16,14 @@
 
 class InvalidFileExt(DataSourceConfigError):
     code = 10054
     message = "文件扩展名不合法"
 
 
 class ExcelProcessError(ServerBaseError):
-    pass
+    code = 10055
+    message = "Excel处理错误"
+
+
+class MySQLRetrieveMetaError(DataSourceError):
+    code = 10056
+    message = "MySQL元数据获取失败"
```

## atcommon/models/securetunnel.py

```diff
@@ -1,18 +1,20 @@
 from atcommon.models.base import BaseCoreModel
 
 
 class SecureTunnelCore(BaseCoreModel):
-    __properties_init__ = ['tenant_id', 'id', 'atst_server_host', 'atst_server_port',
-                           'links_count', 'status', 'created_at', 'modified_at', ]
+    __properties_init__ = ['tenant_id', 'id', 'name', 'atst_server_host', 'atst_server_port',
+                           'links_count', 'status', 'created_at', 'modified_at', 'info']
 
     def __repr__(self):
         return f"<ATST {self.id}>"
 
 
 class SecureTunnelLinkCore(BaseCoreModel):
+    # remove proxy_host because it is configured in configfile
     __properties_init__ = ['securetunnel_id', 'id', 'created_at',
                            'modified_at', 'target_host', 'target_port',
                            'proxy_port', 'status', 'datasource_ids',]
 
     def __repr__(self):
-        return f"<STLink {self.id}>"
+        return (f"<STLink {self.id}({self.securetunnel_id}) [proxy]:{self.proxy_port}->"
+                f"{self.target_host}:{self.target_port}>")
```

## Comparing `asktable-0.14.0.dist-info/METADATA` & `asktable-0.14.2.dist-info/METADATA`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: asktable
-Version: 0.14.0
+Version: 0.14.2
 Summary: AskTable SDK
 Home-page: https://asktable.com/
 Author: lele
 Description-Content-Type: text/markdown
 Requires-Dist: requests
 Requires-Dist: tabulate
 Requires-Dist: pybase62
```

## Comparing `asktable-0.14.0.dist-info/RECORD` & `asktable-0.14.2.dist-info/RECORD`

 * *Files 9% similar despite different names*

```diff
@@ -7,28 +7,28 @@
 asktable/upload.py,sha256=ZctBvZtKnBZWucRXzvdp25zBNGz3eQ6PAfdhzLzfMUU,1492
 asktable/models/__init__.py,sha256=pBkKlyvFBkoOtuaBJkIz5bixHZovMuu184JGnPWBUsM,248
 asktable/models/client_base.py,sha256=l8d2vCdRxioISSo4Y2o_2_PHlmp1BIuCgJroVaQdMVM,2993
 asktable/models/client_chat.py,sha256=rhkfO5LUZuMhdemZBdtIEvA1C6YNjZlWVvAlc7YqHyQ,2571
 asktable/models/client_ds.py,sha256=9hjHty3iUXRRntlsAMygd_D269LdQThYiammrO4xuxw,10712
 asktable/models/client_msg.py,sha256=hWJ8ZoZ2scasPl3EbxHWvixsnRly0AHa28jgonLiYUk,1270
 asktable/models/client_run.py,sha256=YEu-lhVUPamwN9yLJLLldZXTBppIOMIMZ6wOmoxPsc4,885
-asktable/models/client_securetunnel.py,sha256=0vIeMcJ8akbwLD3X2DGD29K_rqkN2s-JbRDmgo10JaY,1165
+asktable/models/client_securetunnel.py,sha256=8DrcpaYqLnJprPMfrK8ewW1J1cHv_WW5_BKYkpfPtNU,1397
 atcommon/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 atcommon/tools.py,sha256=TWlukRR8iaDY0FW4zM1hXO-2xM9NPcDB9PA4eYHipDI,3296
-atcommon/version.py,sha256=7PCgMgR8ldFvrDXH9Xi2UMq5fB3QUkhqh4a2mhwcyO8,16
+atcommon/version.py,sha256=tSTGPG9aA077UWIfGZ5FgxQffDOnrIdii0nLDqzhQhs,16
 atcommon/exceptions/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 atcommon/exceptions/client.py,sha256=9NRkVMHEBdCfiaTvz2p5knT6gWwAzhksZJf0yeyo9rI,1402
 atcommon/exceptions/server.py,sha256=BSlYmdfDasoAq6oK9fyGhws3EBPII_hkHpx_JQmMdAY,95
-atcommon/exceptions/server_base.py,sha256=MglwHRpeVMmT7jYFJusk_P41-ZELBxHCjry-kH4I3is,2599
-atcommon/exceptions/server_plugins.py,sha256=PvDe7f5Axrjpp97w2TfnhGW0rw33vuDlDzAB0IZiTFI,597
+atcommon/exceptions/server_base.py,sha256=ih_9p2EeUhHLCS49IctgE7_wA8Z3hqic5N_vzUmhRxk,2837
+atcommon/exceptions/server_plugins.py,sha256=fjQr0aEVT0vlj7RFLErIuEdjTV4LY2R7Sw1K5LPYR2U,764
 atcommon/models/__init__.py,sha256=EiUwkIMdsdvZzAlDSDD7509mngAjckTBp65xICcASbk,526
 atcommon/models/base.py,sha256=UVM9dKL22-k4k44H6DYQeNIe35vJ1Vg0ppGDZiVDiIU,731
 atcommon/models/bi.py,sha256=WVkrlkMMkSeV5WhoNr88r1qmEPpAW3HA19YysF5-4j0,4918
 atcommon/models/chat.py,sha256=Si_eo8H8h_NtIOc76qhXoYcHp_tPMavud2sEnUXEejo,1069
 atcommon/models/datasource.py,sha256=Qv-IIC9hDGXrWe5s__4U_f51QNDi9BCMJrf42cUJ5Tg,1424
 atcommon/models/meta.py,sha256=OZesut61aJuotvzhj6k92tvcvaOut6E5v5rNNpFzVGo,27794
-atcommon/models/securetunnel.py,sha256=ps-YFONN4G2PROlbJfUOM6P8NkHS3xNUdqzGXohqrP0,631
-asktable-0.14.0.dist-info/METADATA,sha256=5_BVOIMuZHqGuja17SuGP1LhoNcXm3qW6zS7I3ixAS0,11702
-asktable-0.14.0.dist-info/WHEEL,sha256=Xo9-1PvkuimrydujYJAjF7pCkriuXBpUPEjma1nZyJ0,92
-asktable-0.14.0.dist-info/entry_points.txt,sha256=OS7zXFo5f2wYttNLFf6EScGBaN_2XtYbV_Fl_C3RhY8,47
-asktable-0.14.0.dist-info/top_level.txt,sha256=j_dz8lioIJZMGAy7UUdXv0ytGGhh8HFsGhSXaULxT4M,18
-asktable-0.14.0.dist-info/RECORD,,
+atcommon/models/securetunnel.py,sha256=CG-Yn4dHtsHTZALCFR24W9SeF12ENl5mMn608my3vjI,819
+asktable-0.14.2.dist-info/METADATA,sha256=AjgzvnWomRMornHjcNYxf4GI2qZCbTMwog7cJTdVjMg,11702
+asktable-0.14.2.dist-info/WHEEL,sha256=Xo9-1PvkuimrydujYJAjF7pCkriuXBpUPEjma1nZyJ0,92
+asktable-0.14.2.dist-info/entry_points.txt,sha256=OS7zXFo5f2wYttNLFf6EScGBaN_2XtYbV_Fl_C3RhY8,47
+asktable-0.14.2.dist-info/top_level.txt,sha256=j_dz8lioIJZMGAy7UUdXv0ytGGhh8HFsGhSXaULxT4M,18
+asktable-0.14.2.dist-info/RECORD,,
```

